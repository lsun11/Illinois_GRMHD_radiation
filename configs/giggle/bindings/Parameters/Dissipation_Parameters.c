/*@@
   @file    Dissipation_Parameters.c
   @author  Automatically generated by CreateParameterBindings.pl
   @desc
            Creates/extends parameters for this thorn
   @enddesc
 @@*/


#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>

#include "cctk_Config.h"
#include "cctk_Constants.h"
#include "ParameterBindings.h"
#include "CParameterStructNames.h"
#include "ParameterCRestrictedSPACEMASK.h"

/* structure containing all private parameters of thorn Dissipation */
struct
{
  int dummy_parameter;
} PRIVATE_DISSIPATION_STRUCT;


/* structure containing all restricted parameters of thorn Dissipation */
struct
{
  CCTK_REAL KO_strength_falloff_dr;
  CCTK_REAL KO_strength_falloff_radius;
  CCTK_REAL KO_strength_final_value;
  CCTK_REAL ah_max_epsdis;
  CCTK_REAL ah_radius_offset;
  CCTK_REAL ah_slope;
  CCTK_REAL epsdis;
  CCTK_REAL epsdis_for_level[32];
  CCTK_REAL ob_slope;
  CCTK_REAL outer_boundary_max_epsdis;
  const char * vars;
  CCTK_INT KO_strength_falloff_enable;
  CCTK_INT extra_dissipation_at_outerbound;
  CCTK_INT extra_dissipation_in_horizons;
  CCTK_INT horizon_number[100];
  CCTK_INT order;
  CCTK_INT outer_bound_npoints;
  CCTK_INT respect_emask;
  CCTK_INT surface_number[100];
  CCTK_INT update_ah_every;
  CCTK_INT use_dissipation_near_excision;
  CCTK_INT verbose;
} RESTRICTED_DISSIPATION_STRUCT;


int CCTKi_BindingsCreateDissipationParameters(void);
int CCTKi_BindingsCreateDissipationParameters(void)
{
  CCTKi_ParameterCreate("KO_strength_falloff_dr",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "radius beyond which KO_strength starts to fall off to KO_strength_final_value",
                        "5.0",
                        &(RESTRICTED_DISSIPATION_STRUCT.KO_strength_falloff_dr),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("KO_strength_falloff_enable",
                        "Dissipation",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_NEVER,
                        "Enable position-dependent KO_strength, with (some reasonable) parameters (assuming ADM mass=1) defined below?  0=no 1=yes",
                        "0",
                        &(RESTRICTED_DISSIPATION_STRUCT.KO_strength_falloff_enable),
                        0,
                        NULL,
                        1,
                        "0:1", "0=no 1=yes");

  CCTKi_ParameterCreate("KO_strength_falloff_radius",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "radius beyond which KO_strength starts to fall off to KO_strength_final_value",
                        "20.0",
                        &(RESTRICTED_DISSIPATION_STRUCT.KO_strength_falloff_radius),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("KO_strength_final_value",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "KO_strength parameter, final value",
                        "0.2",
                        &(RESTRICTED_DISSIPATION_STRUCT.KO_strength_final_value),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("ah_max_epsdis",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "maximal epsdis",
                        "-1.0",
                        &(RESTRICTED_DISSIPATION_STRUCT.ah_max_epsdis),
                        0,
                        NULL,
                        1,
                        "*:*", "<0 for 'off', >=0 for maximal epsdis in horizon");

  CCTKi_ParameterCreate("ah_radius_offset",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "Offset to the distance from the AH.",
                        "0.0",
                        &(RESTRICTED_DISSIPATION_STRUCT.ah_radius_offset),
                        0,
                        NULL,
                        1,
                        "*:*", "negative values shift inwards, positive outwards");

  CCTKi_ParameterCreate("ah_slope",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "Slope inside AH",
                        "0.2",
                        &(RESTRICTED_DISSIPATION_STRUCT.ah_slope),
                        0,
                        NULL,
                        1,
                        "*:*", "Slope from the outside value to the inside value in AHs");

  CCTKi_ParameterCreate("epsdis",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "Dissipation strength",
                        "0.2",
                        &(RESTRICTED_DISSIPATION_STRUCT.epsdis),
                        0,
                        NULL,
                        1,
                        "*:*", "0 for no dissipation.  Unstable for epsdis<0 and epsdis>1/3");

  CCTKi_ParameterCreate("epsdis_for_level",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "Alternate epsdis for a specific refinement level",
                        "-1.0",
                        (RESTRICTED_DISSIPATION_STRUCT.epsdis_for_level),
                        32,
                        NULL,
                        1,
                        ":", "Negative indicates use default");

  CCTKi_ParameterCreate("extra_dissipation_at_outerbound",
                        "Dissipation",
                        "BOOLEAN",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "increase dissipation at outer boundary",
                        "no",
                        &(RESTRICTED_DISSIPATION_STRUCT.extra_dissipation_at_outerbound),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("extra_dissipation_in_horizons",
                        "Dissipation",
                        "BOOLEAN",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "extra dissipation in horizons",
                        "no",
                        &(RESTRICTED_DISSIPATION_STRUCT.extra_dissipation_in_horizons),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("horizon_number",
                        "Dissipation",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "horizon number for extra dissipation in horizons -- AHFinderDirect number",
                        "-1",
                        (RESTRICTED_DISSIPATION_STRUCT.horizon_number),
                        100,
                        NULL,
                        2,
                        "-1", "do not use a horizon",
                        "1:*", "horizon number (from AHFinderDirect); starts from 1");

  CCTKi_ParameterCreate("ob_slope",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "slope at outer boundary",
                        "5",
                        &(RESTRICTED_DISSIPATION_STRUCT.ob_slope),
                        0,
                        NULL,
                        1,
                        "0:*", "increase dissipation");

  CCTKi_ParameterCreate("order",
                        "Dissipation",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "Dissipation order",
                        "3",
                        &(RESTRICTED_DISSIPATION_STRUCT.order),
                        0,
                        NULL,
                        4,
                        "1", "first order accurate dissipation (using a second derivative)",
                        "3", "third order accurate dissipation (using a fourth derivative)",
                        "5", "fifth order accurate dissipation (using a sixth derivative)",
                        "7", "seventh order accurate dissipation (using an eighth derivative)");

  CCTKi_ParameterCreate("outer_bound_npoints",
                        "Dissipation",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "number of points in which dissipation should be increased",
                        "3",
                        &(RESTRICTED_DISSIPATION_STRUCT.outer_bound_npoints),
                        0,
                        NULL,
                        1,
                        "0:*", "positive number");

  CCTKi_ParameterCreate("outer_boundary_max_epsdis",
                        "Dissipation",
                        "REAL",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "maximal epsdis",
                        "-1.0",
                        &(RESTRICTED_DISSIPATION_STRUCT.outer_boundary_max_epsdis),
                        0,
                        NULL,
                        1,
                        "*:*", "<0 for 'off', >=0 for maximal epsdis at the outer boundary");

  CCTKi_ParameterCreate("respect_emask",
                        "Dissipation",
                        "BOOLEAN",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "respect excision mask",
                        "no",
                        &(RESTRICTED_DISSIPATION_STRUCT.respect_emask),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("surface_number",
                        "Dissipation",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "horizon number for extra dissipation in horizons -- SphericalSurface number",
                        "-1",
                        (RESTRICTED_DISSIPATION_STRUCT.surface_number),
                        100,
                        NULL,
                        2,
                        "-1", "do not use a spherical surface",
                        "0:*", "surface number (from SphericalSurface); starts from 0");

  CCTKi_ParameterCreate("update_ah_every",
                        "Dissipation",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "how often to update the AH information for dissipation",
                        "1",
                        &(RESTRICTED_DISSIPATION_STRUCT.update_ah_every),
                        0,
                        NULL,
                        1,
                        "0:*", "positive iteration number");

  CCTKi_ParameterCreate("use_dissipation_near_excision",
                        "Dissipation",
                        "BOOLEAN",
                        "RESTRICTED",
                        CCTK_STEERABLE_NEVER,
                        "Apply excision near the excision boundary (does not work for high orders)",
                        "yes",
                        &(RESTRICTED_DISSIPATION_STRUCT.use_dissipation_near_excision),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("vars",
                        "Dissipation",
                        "STRING",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "List of evolved grid functions that should have dissipation added",
                        "",
                        &(RESTRICTED_DISSIPATION_STRUCT.vars),
                        0,
                        NULL,
                        1,
                        ".*", "must be a valid list of grid functions");

  CCTKi_ParameterCreate("verbose",
                        "Dissipation",
                        "BOOLEAN",
                        "RESTRICTED",
                        CCTK_STEERABLE_ALWAYS,
                        "produce log output",
                        "no",
                        &(RESTRICTED_DISSIPATION_STRUCT.verbose),
                        0,
                        NULL,
                        0);

  return 0;
}

int CCTKi_BindingsDissipationParameterExtensions(void);
int CCTKi_BindingsDissipationParameterExtensions(void)
{
  return 0;
}

