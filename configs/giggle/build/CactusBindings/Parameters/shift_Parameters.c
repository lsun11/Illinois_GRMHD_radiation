/*@@
   @file    shift_Parameters.c
   @author  Automatically generated by CreateParameterBindings.pl
   @desc
            Creates/extends parameters for this thorn
   @enddesc
 @@*/


#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>

#include "cctk_Config.h"
#include "cctk_Constants.h"
#include "ParameterBindings.h"
#include "CParameterStructNames.h"
#include "ParameterCRestrictedBSSN.h"
#include "ParameterCRestrictedGRID.h"
#include "ParameterCRestrictedMETHODOFLINES.h"

/* structure containing all private parameters of thorn shift */
struct
{
  CCTK_REAL eta;
  CCTK_REAL eta_falloff_dr;
  CCTK_REAL eta_falloff_radius;
  CCTK_REAL eta_final_value;
  CCTK_REAL hyper_Rscale;
  CCTK_REAL hyper_b1;
  CCTK_REAL hyper_b2;
  CCTK_REAL hyper_b3;
  CCTK_REAL hyper_phi_init;
  CCTK_REAL hyper_psi6_init;
  CCTK_REAL time_to_switch_to_eta_final_value;
  const char * shift_interp_operator;
  CCTK_INT eta_falloff_enable;
  CCTK_INT firstorder_shift_convert_Gammai_fisheye_to_physical;
  CCTK_INT hbpunc_advect_enable;
  CCTK_INT hbpuncture_shift_convert_Gammai_fisheye_to_physical;
  CCTK_INT hyper_Integration_Order;
  CCTK_INT punc_shift_bc_radial_falloff_power;
  CCTK_INT shift_bc_type;
} PRIVATE_SHIFT_STRUCT;


/* structure containing all restricted parameters of thorn shift */
struct
{
  CCTK_INT Spatial_Gauge;
  CCTK_INT shift_MaxNumConstrainedVars;
  CCTK_INT shift_MaxNumEvolvedVars;
} RESTRICTED_SHIFT_STRUCT;


int CCTKi_BindingsCreateshiftParameters(void);
int CCTKi_BindingsCreateshiftParameters(void)
{
  CCTKi_ParameterCreate("Spatial_Gauge",
                        "shift",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_NEVER,
                        "Type of spatial gauge to use",
                        "0",
                        &(RESTRICTED_SHIFT_STRUCT.Spatial_Gauge),
                        0,
                        NULL,
                        1,
                        "0:7", "From 0 to 7");

  CCTKi_ParameterCreate("shift_MaxNumConstrainedVars",
                        "shift",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_NEVER,
                        "The maximum number of constrained variables used by shift",
                        "1",
                        &(RESTRICTED_SHIFT_STRUCT.shift_MaxNumConstrainedVars),
                        0,
                        NULL,
                        1,
                        "1:1", "The Analytic-Numerical gridfunction");

  CCTKi_ParameterCreate("shift_MaxNumEvolvedVars",
                        "shift",
                        "INT",
                        "RESTRICTED",
                        CCTK_STEERABLE_NEVER,
                        "The maximum number of evolved variables used by shift",
                        "6",
                        &(RESTRICTED_SHIFT_STRUCT.shift_MaxNumEvolvedVars),
                        0,
                        NULL,
                        1,
                        "6:6", "Just 6: shift^i and shift^i,t");

  CCTKi_ParameterCreate("eta",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "eta parameter for hb puncture shift",
                        "2.0",
                        &(PRIVATE_SHIFT_STRUCT.eta),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("eta_falloff_dr",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "radius beyond which eta starts to fall off to eta_final_value",
                        "5.0",
                        &(PRIVATE_SHIFT_STRUCT.eta_falloff_dr),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("eta_falloff_enable",
                        "shift",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Enable position-dependent eta, with (some reasonable) parameters (assuming ADM mass=1) defined below?  0=no 1=spatial 2=spatial&temporal",
                        "0",
                        &(PRIVATE_SHIFT_STRUCT.eta_falloff_enable),
                        0,
                        NULL,
                        1,
                        "0:2", "0=no 1=yes, fixed-in-time spatially-varied eta, as defined by eta_falloff_radius,eta_falloff_dr,eta_final_value below.  2=spatial & temporally varying eta using arXiv:1009:0292 prescription");

  CCTKi_ParameterCreate("eta_falloff_radius",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "radius beyond which eta starts to fall off to eta_final_value",
                        "20.0",
                        &(PRIVATE_SHIFT_STRUCT.eta_falloff_radius),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("eta_final_value",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "eta parameter for hb puncture shift",
                        "0.25",
                        &(PRIVATE_SHIFT_STRUCT.eta_final_value),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("firstorder_shift_convert_Gammai_fisheye_to_physical",
                        "shift",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Convert \Gamma^i to physical coordinates before updating the shift?",
                        "1",
                        &(PRIVATE_SHIFT_STRUCT.firstorder_shift_convert_Gammai_fisheye_to_physical),
                        0,
                        NULL,
                        1,
                        "0:1", "Zero (disable), One (enable exact [at infinite resolution] fish->phys transf.)");

  CCTKi_ParameterCreate("hbpunc_advect_enable",
                        "shift",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Use advection terms in puncture shift evolution? 0 for no, 1==shibata upwinding, 2==usual upwinding",
                        "0",
                        &(PRIVATE_SHIFT_STRUCT.hbpunc_advect_enable),
                        0,
                        NULL,
                        1,
                        "0:2", "Zero (disable), One (old Shibata-based upwinding scheme), or Two (usual upwinding scheme)");

  CCTKi_ParameterCreate("hbpuncture_shift_convert_Gammai_fisheye_to_physical",
                        "shift",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Convert \Gamma^i to physical coordinates before updating the shift?",
                        "1",
                        &(PRIVATE_SHIFT_STRUCT.hbpuncture_shift_convert_Gammai_fisheye_to_physical),
                        0,
                        NULL,
                        1,
                        "0:1", "Zero (disable), One (enable approx. fish->phys transformation)");

  CCTKi_ParameterCreate("hyper_Integration_Order",
                        "shift",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Integration order parameter in hyperbolic shift",
                        "2",
                        &(PRIVATE_SHIFT_STRUCT.hyper_Integration_Order),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive");

  CCTKi_ParameterCreate("hyper_Rscale",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "R scale for hyperbolic shift",
                        "10.0",
                        &(PRIVATE_SHIFT_STRUCT.hyper_Rscale),
                        0,
                        NULL,
                        1,
                        "*:*", "Anything");

  CCTKi_ParameterCreate("hyper_b1",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "b1 parameter for hyperbolic shift",
                        "0.0",
                        &(PRIVATE_SHIFT_STRUCT.hyper_b1),
                        0,
                        NULL,
                        1,
                        "*:*", "Anything");

  CCTKi_ParameterCreate("hyper_b2",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "b2 parameter for hyperbolic shift",
                        "0.0",
                        &(PRIVATE_SHIFT_STRUCT.hyper_b2),
                        0,
                        NULL,
                        1,
                        "*:*", "Anything");

  CCTKi_ParameterCreate("hyper_b3",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "b3 parameter for hyperbolic shift",
                        "0.0",
                        &(PRIVATE_SHIFT_STRUCT.hyper_b3),
                        0,
                        NULL,
                        1,
                        "*:*", "Anything");

  CCTKi_ParameterCreate("hyper_phi_init",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "initial phi param for hyperbolic shift",
                        "10.0",
                        &(PRIVATE_SHIFT_STRUCT.hyper_phi_init),
                        0,
                        NULL,
                        1,
                        "*:*", "Anything");

  CCTKi_ParameterCreate("hyper_psi6_init",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "DO NOT BOTHER SETTING.  hyper_psi6_init=exp(6.0*hyper_phi_init)",
                        "1.0",
                        &(PRIVATE_SHIFT_STRUCT.hyper_psi6_init),
                        0,
                        NULL,
                        1,
                        "*:*", "Anything");

  CCTKi_ParameterCreate("punc_shift_bc_radial_falloff_power",
                        "shift",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Assumed shift falloff exponent at outer boundary: beta^i ~ r^(-shift_bc_radial_falloff_power).  Set to 1 for systems with net linear momentum, 2 for no net linear mom.",
                        "1",
                        &(PRIVATE_SHIFT_STRUCT.punc_shift_bc_radial_falloff_power),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("shift_bc_type",
                        "shift",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Set to 0 for FALLOFF BCs, 1 for FREEZE (frozen) BCs",
                        "0",
                        &(PRIVATE_SHIFT_STRUCT.shift_bc_type),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  CCTKi_ParameterCreate("shift_interp_operator",
                        "shift",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Name of interpolation operator to use",
                        "uniform cartesian",
                        &(PRIVATE_SHIFT_STRUCT.shift_interp_operator),
                        0,
                        NULL,
                        1,
                        ".+", "A valid name for a registered interpolation operator");

  CCTKi_ParameterCreate("time_to_switch_to_eta_final_value",
                        "shift",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "When t>=time_to_switch_to_eta_final_value, eta=eta_final_value.  t=code units, of course.",
                        "200000000000.0",
                        &(PRIVATE_SHIFT_STRUCT.time_to_switch_to_eta_final_value),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive or zero");

  return 0;
}

int CCTKi_BindingsshiftParameterExtensions(void);
int CCTKi_BindingsshiftParameterExtensions(void)
{
  CCTKi_ParameterAccumulatorBase("shift",
                          "shift_MaxNumConstrainedVars",
                          "MethodofLines",
                          "MoL_Num_Constrained_Vars");

  CCTKi_ParameterAccumulatorBase("shift",
                          "shift_MaxNumEvolvedVars",
                          "MethodofLines",
                          "MoL_Num_Evolved_Vars");

  return 0;
}
